<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Pháp Bảo Phúc Lạc • Chatbot</title>
  <meta name="description" content="Nam mô Bổn Sư Thích Ca Mâu Ni Phật — Hiểu sâu Chánh Pháp – Hướng đạo tu tập" />
  <link rel="icon" href="logo.png" />

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Roboto+Slab:wght@500;600;700&display=swap" rel="stylesheet" />

  <!-- Styles -->
  <link rel="stylesheet" href="styles.css" />

  <!-- Markdown + sanitize -->
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/dompurify@3.0.8/dist/purify.min.js"></script>
</head>
<body>
  <div class="wrap">
    <!-- Header -->
    <header class="hero">
      <img src="logo.png" alt="Logo" class="logo" />
      <div class="title">
        <h1>Pháp Bảo Phúc Lạc • Chatbot</h1>
        <p>NAM MÔ BỔN SƯ THÍCH CA MÂU NI PHẬT — <span>“Hiểu sâu Chánh Pháp – Hướng đạo tu tập”</span></p>
      </div>
    </header>

    <!-- Quick question bar -->
    <div class="greet">
      <input id="qbar" type="text" placeholder="Nam mô Bổn Sư Thích Ca Mâu Ni Phật. Bạn đang muốn tìm hiểu điều gì trong Phật pháp?" />
    </div>

    <!-- Shortcuts -->
    <nav class="shortcuts">
      <button class="chip" data-q="Giải thích giáo lý căn bản ‘Tứ Diệu Đế’ thật ngắn gọn.">
        <span class="i i-list"></span><span>Giáo lý</span>
      </button>
      <button class="chip" data-q="Hãy trích 1 đoạn kinh ý nghĩa, có nguồn và giải thích ứng dụng thực tế.">
        <span class="i i-book"></span><span>Kinh văn</span>
      </button>
      <button class="chip" data-q="Gợi ý 5 sách nói/MP3 về Phật pháp phù hợp cho người mới bắt đầu.">
        <span class="i i-headset"></span><span>Sách nói / MP3</span>
      </button>
      <button class="chip" data-q="Tôi có câu hỏi: … Hãy giải thích nhẹ nhàng, ví dụ gần gũi.">
        <span class="i i-chat"></span><span>Hỏi đáp</span>
      </button>
      <button class="chip" data-q="Tạo lộ trình học 4 tuần: mỗi tuần 3 chủ đề + bài tập chánh niệm.">
        <span class="i i-road"></span><span>Lộ trình</span>
      </button>
      <button class="chip" data-q="Tìm 3 pháp thoại hay (tên bài • giảng sư • ý chính • đường dẫn).">
        <span class="i i-search"></span><span>Tìm pháp thoại</span>
      </button>
    </nav>

    <!-- Chat area -->
    <main class="chat">
      <ul id="messages" class="msgs" aria-live="polite"></ul>

      <div class="composer">
        <textarea id="textarea" rows="2" placeholder="Gõ câu hỏi của bạn… (Shift+Enter xuống dòng)"></textarea>

        <div class="actions">
          <button id="newchatbtn" class="btn subtle" title="Bắt đầu cuộc hội thoại mới (Ctrl/Cmd + Shift + K)">
            <span class="i i-plus"></span> New Chat
          </button>

          <div class="right">
            <button id="copybtn" class="iconbtn" title="Sao chép câu trả lời">
              <span class="i i-copy"></span>
            </button>
            <button id="dlbtn" class="iconbtn" title="Tải .txt cuộc hội thoại">
              <span class="i i-download"></span>
            </button>
            <button id="sendbtn" class="btn primary" title="Gửi">
              <span class="i i-send"></span>
            </button>
          </div>
        </div>

        <p class="hint">Bấm <strong>New Chat</strong> hoặc phím tắt <kbd>Ctrl/Cmd</kbd> + <kbd>Shift</kbd> + <kbd>K</kbd> để bắt đầu cuộc hội thoại mới.</p>
      </div>
    </main>
  </div>

  <!-- Scripts -->
  <script src="script.js"></script>
  <script src="chat.js"></script>
</body>
</html>
